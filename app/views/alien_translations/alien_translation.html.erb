<style>
  /* Arcade title with gradient fill and cross-browser clipping */
  .game-title {
    text-align: center;
    font-family: 'Bangers', cursive;
    font-size: 128px;
    color: #ffffff; /* fallback color */
    background: linear-gradient(to bottom, #ffcc00, #ff3300);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
    text-shadow: 3px 3px 0 #ffffff,
                 -3px -3px 0 #5cfaf5,
                  3px -3px 0 #41f2ec,
                 -3px  3px 0 #69edf9;
    margin-top: 20px;
    margin-bottom: 120px;
  }

  /* Wrapper for all content */
  .page-wrap {
    text-align: center;
    color: #ffffff;
    font-family: Arial, sans-serif;
  }

  /* Input styling */
  .page-wrap input[type="text"] {
    background-color: #ffffff;
    color: #000000;
    border: 2px solid #000000;
    padding: 6px 8px;
    border-radius: 4px;
    font-size: 18px;
  }

  /* Buttons (only non-Bootstrap ones get custom styling) */
  .page-wrap button:not(.btn),
  .page-wrap input[type="submit"]:not(.btn),
  .page-wrap a.btn:not(.btn) {
    background-color: rgb(242, 96, 70);
    color: #ffffff;
    border: 2px solid #000000;
    padding: 8px 16px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-decoration: none;
  }

  .page-wrap button:not(.btn):hover,
  .page-wrap input[type="submit"]:not(.btn):hover,
  .page-wrap a.btn:not(.btn):hover {
    background-color: #629deb;
    border-color: #000000;
  }

  .btn-group .btn.active {
    filter: brightness(0.92);
    outline: 2px solid #000;
  }

  /* Text elements */
  .page-wrap p,
  .page-wrap label {
    font-size: 18px;
  }
</style>

<div class="page-wrap">
  <h1 class="game-title">Alien Translations</h1>

  <!-- Difficulty buttons -->
  <div id="difficulty-buttons">
    <%= render "alien_translations/difficulty_buttons",
               locals: { difficulty: (session[:difficulty] || :normal).to_sym } %>
  </div>

  <!-- Puzzle section -->
  <%= render partial: "alien_translations/game_content",
             locals: { puzzle: @puzzle, hint: @hint, difficulty: session[:difficulty] } %>
</div>

<!-- Sound effect -->
<audio id="click-sound" preload="auto">
  <source src="<%= asset_path('mouse_click.mp3') %>" type="audio/mpeg">
</audio>

<script>
  function attachDifficultySound() {
    const clickSound = document.getElementById("click-sound");
    document.querySelectorAll('.btn-group form').forEach(form => {
      form.addEventListener('submit', () => {
        if (clickSound) {
          clickSound.currentTime = 0;
          clickSound.play().catch(() => {});
        }
      });
    });
  }

  document.addEventListener("turbo:load", attachDifficultySound);
  document.addEventListener("turbo:render", attachDifficultySound);
  document.addEventListener("turbo:frame-load", attachDifficultySound);
</script>
